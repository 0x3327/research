<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.64">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>3327 Research – readme</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="../../../../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../../../../../../../../site_libs/quarto-nav/headroom.min.js"></script>
  <script src="../../../../../../../../site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="../../../../../../../../">
  <script src="../../../../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="../../../../../../../../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../../../../../../../..//images/favicon.ico" rel="icon">
  <script src="../../../../../../../../site_libs/quarto-html/quarto.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/anchor.min.js"></script>
  <link href="../../../../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="../../../../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="../../../../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../../../../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="../../../../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 2,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../../../../../../../../styles.css">
</head>
<body>
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../../../../../../../index.html">
    <img src="../../../../../../../../logo.png" alt="">
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../index.html">Overview</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../documents/research/index.html">Research</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#commander.js" class="nav-link active" data-scroll-target="#commander.js">Commander.js</a>
<ul class="collapse">
<li><a href="#installation" class="nav-link" data-scroll-target="#installation">Installation</a></li>
<li><a href="#declaring-program-variable" class="nav-link" data-scroll-target="#declaring-program-variable">Declaring <em>program</em> variable</a></li>
<li><a href="#options" class="nav-link" data-scroll-target="#options">Options</a>
<ul class="collapse">
<li><a href="#common-option-types-boolean-and-value" class="nav-link" data-scroll-target="#common-option-types-boolean-and-value">Common option types, boolean and value</a></li>
<li><a href="#default-option-value" class="nav-link" data-scroll-target="#default-option-value">Default option value</a></li>
<li><a href="#other-option-types-negatable-boolean-and-flagvalue" class="nav-link" data-scroll-target="#other-option-types-negatable-boolean-and-flagvalue">Other option types, negatable boolean and flag|value</a></li>
<li><a href="#custom-option-processing" class="nav-link" data-scroll-target="#custom-option-processing">Custom option processing</a></li>
<li><a href="#version-option" class="nav-link" data-scroll-target="#version-option">Version option</a></li>
</ul></li>
<li><a href="#commands" class="nav-link" data-scroll-target="#commands">Commands</a>
<ul class="collapse">
<li><a href="#specify-the-argument-syntax" class="nav-link" data-scroll-target="#specify-the-argument-syntax">Specify the argument syntax</a></li>
<li><a href="#action-handler-subcommands" class="nav-link" data-scroll-target="#action-handler-subcommands">Action handler (sub)commands</a></li>
<li><a href="#git-style-executable-subcommands" class="nav-link" data-scroll-target="#git-style-executable-subcommands">Git-style executable (sub)commands</a></li>
</ul></li>
<li><a href="#automated-help" class="nav-link" data-scroll-target="#automated-help">Automated –help</a>
<ul class="collapse">
<li><a href="#custom-help" class="nav-link" data-scroll-target="#custom-help">Custom help</a></li>
<li><a href="#usage-and-.name" class="nav-link" data-scroll-target="#usage-and-.name">.usage and .name</a></li>
<li><a href="#outputhelpcb" class="nav-link" data-scroll-target="#outputhelpcb">.outputHelp(cb)</a></li>
<li><a href="#helpoptionflags-description" class="nav-link" data-scroll-target="#helpoptionflags-description">.helpOption(flags, description)</a></li>
<li><a href="#helpcb" class="nav-link" data-scroll-target="#helpcb">.help(cb)</a></li>
</ul></li>
<li><a href="#custom-event-listeners" class="nav-link" data-scroll-target="#custom-event-listeners">Custom event listeners</a></li>
<li><a href="#bits-and-pieces" class="nav-link" data-scroll-target="#bits-and-pieces">Bits and pieces</a>
<ul class="collapse">
<li><a href="#typescript" class="nav-link" data-scroll-target="#typescript">TypeScript</a></li>
<li><a href="#node-options-such-as---harmony" class="nav-link" data-scroll-target="#node-options-such-as---harmony">Node options such as <code>--harmony</code></a></li>
<li><a href="#node-debugging" class="nav-link" data-scroll-target="#node-debugging">Node debugging</a></li>
</ul></li>
<li><a href="#examples" class="nav-link" data-scroll-target="#examples">Examples</a></li>
<li><a href="#license" class="nav-link" data-scroll-target="#license">License</a></li>
<li><a href="#support" class="nav-link" data-scroll-target="#support">Support</a></li>
</ul></li>
</ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/0x3327/research/edit/main/documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/commander/Readme.md" class="toc-action">Edit this page</a></p><p><a href="https://github.com/0x3327/research/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<section id="commander.js" class="level1">
<h1>Commander.js</h1>
<p><a href="http://travis-ci.org/tj/commander.js"><img src="https://api.travis-ci.org/tj/commander.js.svg?branch=master" class="img-fluid" alt="Build Status"></a> <a href="https://www.npmjs.org/package/commander"><img src="http://img.shields.io/npm/v/commander.svg?style=flat" class="img-fluid" alt="NPM Version"></a> <a href="https://npmcharts.com/compare/commander?minimal=true"><img src="https://img.shields.io/npm/dm/commander.svg?style=flat" class="img-fluid" alt="NPM Downloads"></a> <a href="https://packagephobia.now.sh/result?p=commander"><img src="https://packagephobia.now.sh/badge?p=commander.png" class="img-fluid" alt="Install Size"></a></p>
<p>The complete solution for <a href="http://nodejs.org">node.js</a> command-line interfaces, inspired by Ruby’s <a href="https://github.com/commander-rb/commander">commander</a>.</p>
<ul>
<li><a href="#commanderjs">Commander.js</a>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#declaring-program-variable">Declaring <em>program</em> variable</a></li>
<li><a href="#options">Options</a>
<ul>
<li><a href="#common-option-types-boolean-and-value">Common option types, boolean and value</a></li>
<li><a href="#default-option-value">Default option value</a></li>
<li><a href="#other-option-types-negatable-boolean-and-flagvalue">Other option types, negatable boolean and flag|value</a></li>
<li><a href="#custom-option-processing">Custom option processing</a></li>
<li><a href="#version-option">Version option</a></li>
</ul></li>
<li><a href="#commands">Commands</a>
<ul>
<li><a href="#specify-the-argument-syntax">Specify the argument syntax</a></li>
<li><a href="#action-handler-subcommands">Action handler (sub)commands</a></li>
<li><a href="#git-style-executable-subcommands">Git-style executable (sub)commands</a></li>
</ul></li>
<li><a href="#automated---help">Automated –help</a>
<ul>
<li><a href="#custom-help">Custom help</a></li>
<li><a href="#usage-and-name">.usage and .name</a></li>
<li><a href="#outputhelpcb">.outputHelp(cb)</a></li>
<li><a href="#helpoptionflags-description">.helpOption(flags, description)</a></li>
<li><a href="#helpcb">.help(cb)</a></li>
</ul></li>
<li><a href="#custom-event-listeners">Custom event listeners</a></li>
<li><a href="#bits-and-pieces">Bits and pieces</a>
<ul>
<li><a href="#typescript">TypeScript</a></li>
<li><a href="#node-options-such-as---harmony">Node options such as <code>--harmony</code></a></li>
<li><a href="#node-debugging">Node debugging</a></li>
</ul></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#license">License</a></li>
<li><a href="#support">Support</a></li>
</ul></li>
</ul>
<section id="installation" class="level2">
<h2 class="anchored" data-anchor-id="installation">Installation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install commander</span></code></pre></div>
</section>
<section id="declaring-program-variable" class="level2">
<h2 class="anchored" data-anchor-id="declaring-program-variable">Declaring <em>program</em> variable</h2>
<p>Commander exports a global object which is convenient for quick programs. This is used in the examples in this README for brevity.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">version</span>(<span class="st">'0.0.1'</span>)<span class="op">;</span></span></code></pre></div>
<p>For larger programs which may use commander in multiple ways, including unit testing, it is better to create a local Command object to use.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> commander <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="kw">new</span> commander<span class="op">.</span><span class="fu">Command</span>()<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">version</span>(<span class="st">'0.0.1'</span>)<span class="op">;</span></span></code></pre></div>
</section>
<section id="options" class="level2">
<h2 class="anchored" data-anchor-id="options">Options</h2>
<p>Options are defined with the <code>.option()</code> method, also serving as documentation for the options. Each option can have a short flag (single character) and a long name, separated by a comma or space.</p>
<p>The options can be accessed as properties on the Command object. Multi-word options such as “–template-engine” are camel-cased, becoming <code>program.templateEngine</code> etc. Multiple short flags may be combined as a single arg, for example <code>-abc</code> is equivalent to <code>-a -b -c</code>.</p>
<section id="common-option-types-boolean-and-value" class="level3">
<h3 class="anchored" data-anchor-id="common-option-types-boolean-and-value">Common option types, boolean and value</h3>
<p>The two most used option types are a boolean flag, and an option which takes a value (declared using angle brackets). Both are <code>undefined</code> unless specified on command line.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-d, --debug'</span><span class="op">,</span> <span class="st">'output extra debugging'</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-s, --small'</span><span class="op">,</span> <span class="st">'small pizza size'</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-p, --pizza-type &lt;type&gt;'</span><span class="op">,</span> <span class="st">'flavour of pizza'</span>)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">debug</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(program<span class="op">.</span><span class="fu">opts</span>())<span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'pizza details:'</span>)<span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">small</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'- small pizza size'</span>)<span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">pizzaType</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`- </span><span class="sc">${</span>program<span class="op">.</span><span class="at">pizzaType</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">-d</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">debug:</span> true, small: undefined, pizzaType: undefined }</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pizza</span> details:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">-p</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="ex">error:</span> option <span class="st">'-p, --pizza-type &lt;type&gt;'</span> argument missing</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">-ds</span> <span class="at">-p</span> vegetarian</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">debug:</span> true, small: true, pizzaType: <span class="st">'vegetarian'</span> }</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="ex">pizza</span> details:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> small pizza size</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> vegetarian</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">--pizza-type</span><span class="op">=</span>cheese</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="ex">pizza</span> details:</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> cheese</span></code></pre></div>
<p><code>program.parse(arguments)</code> processes the arguments, leaving any args not consumed by the options as the <code>program.args</code> array.</p>
</section>
<section id="default-option-value" class="level3">
<h3 class="anchored" data-anchor-id="default-option-value">Default option value</h3>
<p>You can specify a default value for an option which takes a value.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-c, --cheese &lt;type&gt;'</span><span class="op">,</span> <span class="st">'add the specified type of cheese'</span><span class="op">,</span> <span class="st">'blue'</span>)<span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`cheese: </span><span class="sc">${</span>program<span class="op">.</span><span class="at">cheese</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">cheese:</span> blue</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">--cheese</span> stilton</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="ex">cheese:</span> stilton</span></code></pre></div>
</section>
<section id="other-option-types-negatable-boolean-and-flagvalue" class="level3">
<h3 class="anchored" data-anchor-id="other-option-types-negatable-boolean-and-flagvalue">Other option types, negatable boolean and flag|value</h3>
<p>You can specify a boolean option long name with a leading <code>no-</code> to set the option value to false when used. Defined alone this also makes the option true by default.</p>
<p>If you define <code>--foo</code> first, adding <code>--no-foo</code> does not change the default value from what it would otherwise be. You can specify a default boolean value for a boolean flag and it can be overridden on command line.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'--no-sauce'</span><span class="op">,</span> <span class="st">'Remove sauce'</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'--cheese &lt;flavour&gt;'</span><span class="op">,</span> <span class="st">'cheese flavour'</span><span class="op">,</span> <span class="st">'mozzarella'</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'--no-cheese'</span><span class="op">,</span> <span class="st">'plain with no cheese'</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> sauceStr <span class="op">=</span> program<span class="op">.</span><span class="at">sauce</span> <span class="op">?</span> <span class="st">'sauce'</span> <span class="op">:</span> <span class="st">'no sauce'</span><span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> cheeseStr <span class="op">=</span> (program<span class="op">.</span><span class="at">cheese</span> <span class="op">===</span> <span class="kw">false</span>) <span class="op">?</span> <span class="st">'no cheese'</span> <span class="op">:</span> <span class="vs">`</span><span class="sc">${</span>program<span class="op">.</span><span class="at">cheese</span><span class="sc">}</span><span class="vs"> cheese`</span><span class="op">;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`You ordered a pizza with </span><span class="sc">${</span>sauceStr<span class="sc">}</span><span class="vs"> and </span><span class="sc">${</span>cheeseStr<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> ordered a pizza with sauce and mozzarella cheese</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">--sauce</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="ex">error:</span> unknown option <span class="st">'--sauce'</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">--cheese</span><span class="op">=</span>blue</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> ordered a pizza with sauce and blue cheese</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">--no-sauce</span> <span class="at">--no-cheese</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> ordered a pizza with no sauce and no cheese</span></code></pre></div>
<p>You can specify an option which functions as a flag but may also take a value (declared using square brackets).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-c, --cheese [type]'</span><span class="op">,</span> <span class="st">'Add cheese with optional type'</span>)<span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">cheese</span> <span class="op">===</span> <span class="kw">undefined</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'no cheese'</span>)<span class="op">;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="cf">if</span> (program<span class="op">.</span><span class="at">cheese</span> <span class="op">===</span> <span class="kw">true</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'add cheese'</span>)<span class="op">;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`add cheese type </span><span class="sc">${</span>program<span class="op">.</span><span class="at">cheese</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">no</span> cheese</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">--cheese</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="ex">add</span> cheese</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pizza-options <span class="at">--cheese</span> mozzarella</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="ex">add</span> cheese type mozzarella</span></code></pre></div>
</section>
<section id="custom-option-processing" class="level3">
<h3 class="anchored" data-anchor-id="custom-option-processing">Custom option processing</h3>
<p>You may specify a function to do custom processing of option values. The callback function receives two parameters, the user specified value and the previous value for the option. It returns the new value for the option.</p>
<p>This allows you to coerce the option value to the desired type, or accumulate values, or do entirely custom processing.</p>
<p>You can optionally specify the default/starting value for the option after the function.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myParseInt</span>(value<span class="op">,</span> dummyPrevious) {</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">// parseInt takes a string and an optional radix</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="pp">parseInt</span>(value)<span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">increaseVerbosity</span>(dummyValue<span class="op">,</span> previous) {</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> previous <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">collect</span>(value<span class="op">,</span> previous) {</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> previous<span class="op">.</span><span class="fu">concat</span>([value])<span class="op">;</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">commaSeparatedList</span>(value<span class="op">,</span> dummyPrevious) {</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> value<span class="op">.</span><span class="fu">split</span>(<span class="st">','</span>)<span class="op">;</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-f, --float &lt;number&gt;'</span><span class="op">,</span> <span class="st">'float argument'</span><span class="op">,</span> parseFloat)</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-i, --integer &lt;number&gt;'</span><span class="op">,</span> <span class="st">'integer argument'</span><span class="op">,</span> myParseInt)</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-v, --verbose'</span><span class="op">,</span> <span class="st">'verbosity that can be increased'</span><span class="op">,</span> increaseVerbosity<span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-c, --collect &lt;value&gt;'</span><span class="op">,</span> <span class="st">'repeatable value'</span><span class="op">,</span> collect<span class="op">,</span> [])</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-l, --list &lt;items&gt;'</span><span class="op">,</span> <span class="st">'comma separated list'</span><span class="op">,</span> commaSeparatedList)</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="op">;</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">float</span> <span class="op">!==</span> <span class="kw">undefined</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`float: </span><span class="sc">${</span>program<span class="op">.</span><span class="at">float</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">integer</span> <span class="op">!==</span> <span class="kw">undefined</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`integer: </span><span class="sc">${</span>program<span class="op">.</span><span class="at">integer</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">verbose</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`verbosity: </span><span class="sc">${</span>program<span class="op">.</span><span class="at">verbose</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">collect</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(program<span class="op">.</span><span class="at">collect</span>)<span class="op">;</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (program<span class="op">.</span><span class="at">list</span> <span class="op">!==</span> <span class="kw">undefined</span>) <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(program<span class="op">.</span><span class="at">list</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> custom <span class="at">-f</span> 1e2</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">float:</span> 100</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> custom <span class="at">--integer</span> 2</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">integer:</span> 2</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> custom <span class="at">-v</span> <span class="at">-v</span> <span class="at">-v</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="ex">verbose:</span> 3</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> custom <span class="at">-c</span> a <span class="at">-c</span> b <span class="at">-c</span> c</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> <span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span> <span class="bu">]</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> custom <span class="at">--list</span> x,y,z</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> <span class="st">'x'</span>, <span class="st">'y'</span>, <span class="st">'z'</span> <span class="bu">]</span></span></code></pre></div>
</section>
<section id="version-option" class="level3">
<h3 class="anchored" data-anchor-id="version-option">Version option</h3>
<p>The optional <code>version</code> method adds handling for displaying the command version. The default option flags are <code>-V</code> and <code>--version</code>, and when present the command prints the version number and exits.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">version</span>(<span class="st">'0.0.1'</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./examples/pizza <span class="at">-V</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">0.0.1</span></span></code></pre></div>
<p>You may change the flags and description by passing additional parameters to the <code>version</code> method, using the same syntax for flags as the <code>option</code> method. The version flags can be named anything, but a long name is required.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">version</span>(<span class="st">'0.0.1'</span><span class="op">,</span> <span class="st">'-v, --vers'</span><span class="op">,</span> <span class="st">'output the current version'</span>)<span class="op">;</span></span></code></pre></div>
</section>
</section>
<section id="commands" class="level2">
<h2 class="anchored" data-anchor-id="commands">Commands</h2>
<p>You can specify (sub)commands for your top-level command using <code>.command</code>. There are two ways these can be implemented: using an action handler attached to the command, or as a separate executable file (described in more detail later). In the first parameter to <code>.command</code> you specify the command name and any command arguments. The arguments may be <code>&lt;required&gt;</code> or <code>[optional]</code>, and the last argument may also be <code>variadic...</code>.</p>
<p>For example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Command implemented using action handler (description is supplied separately to `.command`)</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Returns new command for configuring.</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'clone &lt;source&gt; [destination]'</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">description</span>(<span class="st">'clone a repository into a newly created directory'</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">action</span>((source<span class="op">,</span> destination) <span class="kw">=&gt;</span> {</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'clone command called'</span>)<span class="op">;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">// Command implemented using separate executable file (description is second parameter to `.command`)</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">// Returns top-level command for adding more commands.</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'start &lt;service&gt;'</span><span class="op">,</span> <span class="st">'start named service'</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'stop [service]'</span><span class="op">,</span> <span class="st">'stop named service, or all if no name supplied'</span>)<span class="op">;</span></span></code></pre></div>
<section id="specify-the-argument-syntax" class="level3">
<h3 class="anchored" data-anchor-id="specify-the-argument-syntax">Specify the argument syntax</h3>
<p>You use <code>.arguments</code> to specify the arguments for the top-level command, and for subcommands they are included in the <code>.command</code> call. Angled brackets (e.g.&nbsp;<code>&lt;required&gt;</code>) indicate required input. Square brackets (e.g.&nbsp;<code>[optional]</code>) indicate optional input.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">version</span>(<span class="st">'0.1.0'</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">arguments</span>(<span class="st">'&lt;cmd&gt; [env]'</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">action</span>(<span class="kw">function</span> (cmd<span class="op">,</span> env) {</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    cmdValue <span class="op">=</span> cmd<span class="op">;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    envValue <span class="op">=</span> env<span class="op">;</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="kw">typeof</span> cmdValue <span class="op">===</span> <span class="st">'undefined'</span>) {</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'no command given!'</span>)<span class="op">;</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">process</span><span class="op">.</span><span class="fu">exit</span>(<span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'command:'</span><span class="op">,</span> cmdValue)<span class="op">;</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'environment:'</span><span class="op">,</span> envValue <span class="op">||</span> <span class="st">"no environment given"</span>)<span class="op">;</span></span></code></pre></div>
<p>The last argument of a command can be variadic, and only the last argument. To make an argument variadic you append <code>...</code> to the argument name. For example:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">version</span>(<span class="st">'0.1.0'</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'rmdir &lt;dir&gt; [otherDirs...]'</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">action</span>(<span class="kw">function</span> (dir<span class="op">,</span> otherDirs) {</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'rmdir %s'</span><span class="op">,</span> dir)<span class="op">;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (otherDirs) {</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>      otherDirs<span class="op">.</span><span class="fu">forEach</span>(<span class="kw">function</span> (oDir) {</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'rmdir %s'</span><span class="op">,</span> oDir)<span class="op">;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span></code></pre></div>
<p>The variadic argument is passed to the action handler as an array. (And this also applies to <code>program.args</code>.)</p>
</section>
<section id="action-handler-subcommands" class="level3">
<h3 class="anchored" data-anchor-id="action-handler-subcommands">Action handler (sub)commands</h3>
<p>You can add options to a command that uses an action handler. The action handler gets passed a parameter for each argument you declared, and one additional argument which is the command object itself. This command argument has the values for the command-specific options added as properties.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'rm &lt;dir&gt;'</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-r, --recursive'</span><span class="op">,</span> <span class="st">'Remove recursively'</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">action</span>(<span class="kw">function</span> (dir<span class="op">,</span> cmdObj) {</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'remove '</span> <span class="op">+</span> dir <span class="op">+</span> (cmdObj<span class="op">.</span><span class="at">recursive</span> <span class="op">?</span> <span class="st">' recursively'</span> <span class="op">:</span> <span class="st">''</span>))</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)</span></code></pre></div>
<p>A command’s options on the command line are validated when the command is used. Any unknown options will be reported as an error. However, if an action-based command does not define an action, then the options are not validated.</p>
<p>Configuration options can be passed with the call to <code>.command()</code>. Specifying <code>true</code> for <code>opts.noHelp</code> will remove the command from the generated help output.</p>
</section>
<section id="git-style-executable-subcommands" class="level3">
<h3 class="anchored" data-anchor-id="git-style-executable-subcommands">Git-style executable (sub)commands</h3>
<p>When <code>.command()</code> is invoked with a description argument, this tells commander that you’re going to use separate executables for sub-commands, much like <code>git(1)</code> and other popular tools. Commander will search the executables in the directory of the entry script (like <code>./examples/pm</code>) with the name <code>program-subcommand</code>, like <code>pm-install</code>, <code>pm-search</code>. You can specify a custom name with the <code>executableFile</code> configuration option.</p>
<p>You handle the options for an executable (sub)command in the executable, and don’t declare them at the top-level.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">// file: ./examples/pm</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">version</span>(<span class="st">'0.1.0'</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'install [name]'</span><span class="op">,</span> <span class="st">'install one or more packages'</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'search [query]'</span><span class="op">,</span> <span class="st">'search with optional query'</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'update'</span><span class="op">,</span> <span class="st">'update installed packages'</span><span class="op">,</span> {<span class="dt">executableFile</span><span class="op">:</span> <span class="st">'myUpdateSubCommand'</span>})</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'list'</span><span class="op">,</span> <span class="st">'list packages installed'</span><span class="op">,</span> {<span class="dt">isDefault</span><span class="op">:</span> <span class="kw">true</span>})</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span></code></pre></div>
<p>Configuration options can be passed with the call to <code>.command()</code>. Specifying <code>true</code> for <code>opts.noHelp</code> will remove the command from the generated help output. Specifying <code>true</code> for <code>opts.isDefault</code> will run the subcommand if no other subcommand is specified. Specifying a name with <code>executableFile</code> will override the default constructed name.</p>
<p>If the program is designed to be installed globally, make sure the executables have proper modes, like <code>755</code>.</p>
</section>
</section>
<section id="automated-help" class="level2">
<h2 class="anchored" data-anchor-id="automated-help">Automated –help</h2>
<p>The help information is auto-generated based on the information commander already knows about your program, so the following <code>--help</code> info is for free:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./examples/pizza <span class="at">--help</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Usage:</span> pizza [options]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">An</span> application for pizzas ordering</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Options:</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-V,</span> <span class="at">--version</span>        output the version number</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-p,</span> <span class="at">--peppers</span>        Add peppers</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-P,</span> <span class="at">--pineapple</span>      Add pineapple</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-b,</span> <span class="at">--bbq</span>            Add bbq sauce</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-c,</span> <span class="at">--cheese</span> <span class="op">&lt;</span>type<span class="op">&gt;</span>  Add the specified type of cheese <span class="er">(</span><span class="ex">default:</span> <span class="st">"marble"</span><span class="kw">)</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-C,</span> <span class="at">--no-cheese</span>      You do not want any cheese</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-h,</span> <span class="at">--help</span>           output usage information</span></code></pre></div>
<section id="custom-help" class="level3">
<h3 class="anchored" data-anchor-id="custom-help">Custom help</h3>
<p>You can display arbitrary <code>-h, --help</code> information by listening for “–help”. Commander will automatically exit once you are done so that the remainder of your program does not execute causing undesired behaviors, for example in the following executable “stuff” will not output when <code>--help</code> is used.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env node</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">version</span>(<span class="st">'0.1.0'</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-f, --foo'</span><span class="op">,</span> <span class="st">'enable some foo'</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-b, --bar'</span><span class="op">,</span> <span class="st">'enable some bar'</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-B, --baz'</span><span class="op">,</span> <span class="st">'enable some baz'</span>)<span class="op">;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co">// must be before .parse() since</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">// node's emit() is immediate</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">on</span>(<span class="st">'--help'</span><span class="op">,</span> <span class="kw">function</span>(){</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">''</span>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Examples:'</span>)<span class="op">;</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'  $ custom-help --help'</span>)<span class="op">;</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'  $ custom-help -h'</span>)<span class="op">;</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'stuff'</span>)<span class="op">;</span></span></code></pre></div>
<p>Yields the following help output when <code>node script-name.js -h</code> or <code>node script-name.js --help</code> are run:</p>
<pre class="text"><code>Usage: custom-help [options]

Options:
  -h, --help     output usage information
  -V, --version  output the version number
  -f, --foo      enable some foo
  -b, --bar      enable some bar
  -B, --baz      enable some baz

Examples:
  $ custom-help --help
  $ custom-help -h</code></pre>
</section>
<section id="usage-and-.name" class="level3">
<h3 class="anchored" data-anchor-id="usage-and-.name">.usage and .name</h3>
<p>These allow you to customise the usage description in the first line of the help. The name is otherwise deduced from the (full) program arguments. Given:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">name</span>(<span class="st">"my-command"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">usage</span>(<span class="st">"[global options] command"</span>)</span></code></pre></div>
<p>The help will start with:</p>
<pre class="text"><code>Usage: my-command [global options] command</code></pre>
</section>
<section id="outputhelpcb" class="level3">
<h3 class="anchored" data-anchor-id="outputhelpcb">.outputHelp(cb)</h3>
<p>Output help information without exiting. Optional callback cb allows post-processing of help text before it is displayed.</p>
<p>If you want to display help by default (e.g.&nbsp;if no command was provided), you can use something like:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> colors <span class="op">=</span> <span class="pp">require</span>(<span class="st">'colors'</span>)<span class="op">;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">version</span>(<span class="st">'0.1.0'</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'getstream [url]'</span><span class="op">,</span> <span class="st">'get stream URL'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="bu">process</span><span class="op">.</span><span class="at">argv</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span>)<span class="op">.</span><span class="at">length</span>) {</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span><span class="fu">outputHelp</span>(make_red)<span class="op">;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">make_red</span>(txt) {</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> colors<span class="op">.</span><span class="fu">red</span>(txt)<span class="op">;</span> <span class="co">//display the help text in red on the console</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="helpoptionflags-description" class="level3">
<h3 class="anchored" data-anchor-id="helpoptionflags-description">.helpOption(flags, description)</h3>
<p>Override the default help flags and description.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">helpOption</span>(<span class="st">'-e, --HELP'</span><span class="op">,</span> <span class="st">'read more information'</span>)<span class="op">;</span></span></code></pre></div>
</section>
<section id="helpcb" class="level3">
<h3 class="anchored" data-anchor-id="helpcb">.help(cb)</h3>
<p>Output help information and exit immediately. Optional callback cb allows post-processing of help text before it is displayed.</p>
</section>
</section>
<section id="custom-event-listeners" class="level2">
<h2 class="anchored" data-anchor-id="custom-event-listeners">Custom event listeners</h2>
<p>You can execute custom actions by listening to command and option events.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">on</span>(<span class="st">'option:verbose'</span><span class="op">,</span> <span class="kw">function</span> () {</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">VERBOSE</span> <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="at">verbose</span><span class="op">;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">// error on unknown commands</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">on</span>(<span class="st">'command:*'</span><span class="op">,</span> <span class="kw">function</span> () {</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Invalid command: %s</span><span class="sc">\n</span><span class="st">See --help for a list of available commands.'</span><span class="op">,</span> program<span class="op">.</span><span class="at">args</span><span class="op">.</span><span class="fu">join</span>(<span class="st">' '</span>))<span class="op">;</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">process</span><span class="op">.</span><span class="fu">exit</span>(<span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
</section>
<section id="bits-and-pieces" class="level2">
<h2 class="anchored" data-anchor-id="bits-and-pieces">Bits and pieces</h2>
<section id="typescript" class="level3">
<h3 class="anchored" data-anchor-id="typescript">TypeScript</h3>
<p>The Commander package includes its TypeScript Definition file, but also requires the node types which you need to install yourself. e.g.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install commander</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">--save-dev</span> @types/node</span></code></pre></div>
<p>If you use <code>ts-node</code> and git-style sub-commands written as <code>.ts</code> files, you need to call your program through node to get the sub-commands called correctly. e.g.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> <span class="at">-r</span> ts-node/register pm.ts</span></code></pre></div>
</section>
<section id="node-options-such-as---harmony" class="level3">
<h3 class="anchored" data-anchor-id="node-options-such-as---harmony">Node options such as <code>--harmony</code></h3>
<p>You can enable <code>--harmony</code> option in two ways:</p>
<ul>
<li>Use <code>#! /usr/bin/env node --harmony</code> in the sub-commands scripts. (Note Windows does not support this pattern.)</li>
<li>Use the <code>--harmony</code> option when call the command, like <code>node --harmony examples/pm publish</code>. The <code>--harmony</code> option will be preserved when spawning sub-command process.</li>
</ul>
</section>
<section id="node-debugging" class="level3">
<h3 class="anchored" data-anchor-id="node-debugging">Node debugging</h3>
<p>If you are using the node inspector for <a href="https://nodejs.org/en/docs/guides/debugging-getting-started/">debugging</a> git-style executable (sub)commands using <code>node -inspect</code> et al, the inspector port is incremented by 1 for the spawned subcommand.</p>
</section>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> program <span class="op">=</span> <span class="pp">require</span>(<span class="st">'commander'</span>)<span class="op">;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">version</span>(<span class="st">'0.1.0'</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-C, --chdir &lt;path&gt;'</span><span class="op">,</span> <span class="st">'change the working directory'</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-c, --config &lt;path&gt;'</span><span class="op">,</span> <span class="st">'set config path. defaults to ./deploy.conf'</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">'-T, --no-tests'</span><span class="op">,</span> <span class="st">'ignore test hook'</span>)<span class="op">;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'setup [env]'</span>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">description</span>(<span class="st">'run setup commands for all envs'</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">"-s, --setup_mode [mode]"</span><span class="op">,</span> <span class="st">"Which setup mode to use"</span>)</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">action</span>(<span class="kw">function</span>(env<span class="op">,</span> options){</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> mode <span class="op">=</span> options<span class="op">.</span><span class="at">setup_mode</span> <span class="op">||</span> <span class="st">"normal"</span><span class="op">;</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    env <span class="op">=</span> env <span class="op">||</span> <span class="st">'all'</span><span class="op">;</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'setup for %s env(s) with %s mode'</span><span class="op">,</span> env<span class="op">,</span> mode)<span class="op">;</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'exec &lt;cmd&gt;'</span>)</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">alias</span>(<span class="st">'ex'</span>)</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">description</span>(<span class="st">'execute the given remote cmd'</span>)</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">option</span>(<span class="st">"-e, --exec_mode &lt;mode&gt;"</span><span class="op">,</span> <span class="st">"Which exec mode to use"</span>)</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">action</span>(<span class="kw">function</span>(cmd<span class="op">,</span> options){</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'exec "%s" using %s mode'</span><span class="op">,</span> cmd<span class="op">,</span> options<span class="op">.</span><span class="at">exec_mode</span>)<span class="op">;</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  })<span class="op">.</span><span class="fu">on</span>(<span class="st">'--help'</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">''</span>)<span class="op">;</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Examples:'</span>)<span class="op">;</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">''</span>)<span class="op">;</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'  $ deploy exec sequential'</span>)<span class="op">;</span></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'  $ deploy exec async'</span>)<span class="op">;</span></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>program</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">command</span>(<span class="st">'*'</span>)</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">action</span>(<span class="kw">function</span>(env){</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'deploying "%s"'</span><span class="op">,</span> env)<span class="op">;</span></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span><span class="fu">parse</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span></code></pre></div>
<p>More Demos can be found in the <a href="https://github.com/tj/commander.js/tree/master/examples">examples</a> directory.</p>
</section>
<section id="license" class="level2">
<h2 class="anchored" data-anchor-id="license">License</h2>
<p><a href="https://github.com/tj/commander.js/blob/master/LICENSE">MIT</a></p>
</section>
<section id="support" class="level2">
<h2 class="anchored" data-anchor-id="support">Support</h2>
<p><a href="https://tidelift.com/subscription/pkg/npm-commander?utm_source=npm-commander&amp;utm_medium=referral&amp;utm_campaign=readme">Professionally supported commander is now available</a></p>
<p>Tidelift gives software development teams a single source for purchasing and maintaining their software, with professional grade assurances from the experts who know it best, while seamlessly integrating with existing tools.</p>


</section>
</section>
</main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

</script>
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Proudly supported by <a href="https://mvpworkshop.co"><img src="https://mvpworkshop.co/wp-content/uploads/2021/01/mvp-logo.png" class="img-fluid" width="65"></a></div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../about.html">About</a>
  </li>  
</ul>
      </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>


</body></html>