<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.64">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>3327 Research – readme</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="../../../../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../../../../../../../../site_libs/quarto-nav/headroom.min.js"></script>
  <script src="../../../../../../../../site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="../../../../../../../../">
  <script src="../../../../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="../../../../../../../../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../../../../../../../..//images/favicon.ico" rel="icon">
  <script src="../../../../../../../../site_libs/quarto-html/quarto.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/anchor.min.js"></script>
  <link href="../../../../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="../../../../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="../../../../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../../../../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="../../../../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 2,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../../../../../../../../styles.css">
</head>
<body>
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../../../../../../../index.html">
    <img src="../../../../../../../../logo.png" alt="">
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../index.html">Overview</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../documents/research/index.html">Research</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#depd" class="nav-link active" data-scroll-target="#depd">depd</a>
<ul class="collapse">
<li><a href="#install" class="nav-link" data-scroll-target="#install">Install</a></li>
<li><a href="#api" class="nav-link" data-scroll-target="#api">API</a>
<ul class="collapse">
<li><a href="#depdnamespace" class="nav-link" data-scroll-target="#depdnamespace">depd(namespace)</a></li>
<li><a href="#deprecatemessage" class="nav-link" data-scroll-target="#deprecatemessage">deprecate(message)</a></li>
<li><a href="#deprecate.functionfn-message" class="nav-link" data-scroll-target="#deprecate.functionfn-message">deprecate.function(fn, message)</a></li>
<li><a href="#deprecate.propertyobj-prop-message" class="nav-link" data-scroll-target="#deprecate.propertyobj-prop-message">deprecate.property(obj, prop, message)</a></li>
<li><a href="#process.ondeprecation-fn" class="nav-link" data-scroll-target="#process.ondeprecation-fn">process.on(‘deprecation’, fn)</a></li>
<li><a href="#process.env.no_deprecation" class="nav-link" data-scroll-target="#process.env.no_deprecation">process.env.NO_DEPRECATION</a></li>
<li><a href="#process.env.trace_deprecation" class="nav-link" data-scroll-target="#process.env.trace_deprecation">process.env.TRACE_DEPRECATION</a></li>
</ul></li>
<li><a href="#display" class="nav-link" data-scroll-target="#display">Display</a></li>
<li><a href="#examples" class="nav-link" data-scroll-target="#examples">Examples</a>
<ul class="collapse">
<li><a href="#deprecating-all-calls-to-a-function" class="nav-link" data-scroll-target="#deprecating-all-calls-to-a-function">Deprecating all calls to a function</a></li>
<li><a href="#conditionally-deprecating-a-function-call" class="nav-link" data-scroll-target="#conditionally-deprecating-a-function-call">Conditionally deprecating a function call</a></li>
<li><a href="#deprecating-property-access" class="nav-link" data-scroll-target="#deprecating-property-access">Deprecating property access</a></li>
</ul></li>
<li><a href="#license" class="nav-link" data-scroll-target="#license">License</a></li>
</ul></li>
</ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/0x3327/research/edit/main/documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/depd/Readme.md" class="toc-action">Edit this page</a></p><p><a href="https://github.com/0x3327/research/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<section id="depd" class="level1">
<h1>depd</h1>
<p><a href="https://npmjs.org/package/depd"><img src="https://badgen.net/npm/v/depd.png" class="img-fluid" alt="NPM Version"></a> <a href="https://npmjs.org/package/depd"><img src="https://badgen.net/npm/dm/depd.png" class="img-fluid" alt="NPM Downloads"></a> <a href="https://nodejs.org/en/download/"><img src="https://badgen.net/npm/node/depd.png" class="img-fluid" alt="Node.js Version"></a> <a href="https://travis-ci.org/dougwilson/nodejs-depd"><img src="https://badgen.net/travis/dougwilson/nodejs-depd/master?label=linux.png" class="img-fluid" alt="Linux Build"></a> <a href="https://ci.appveyor.com/project/dougwilson/nodejs-depd"><img src="https://badgen.net/appveyor/ci/dougwilson/nodejs-depd/master?label=windows.png" class="img-fluid" alt="Windows Build"></a> <a href="https://coveralls.io/r/dougwilson/nodejs-depd?branch=master"><img src="https://badgen.net/coveralls/c/github/dougwilson/nodejs-depd/master.png" class="img-fluid" alt="Coverage Status"></a></p>
<p>Deprecate all the things</p>
<blockquote class="blockquote">
<p>With great modules comes great responsibility; mark things deprecated!</p>
</blockquote>
<section id="install" class="level2">
<h2 class="anchored" data-anchor-id="install">Install</h2>
<p>This module is installed directly using <code>npm</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> npm install depd</span></code></pre></div>
<p>This module can also be bundled with systems like <a href="http://browserify.org/">Browserify</a> or <a href="https://webpack.github.io/">webpack</a>, though by default this module will alter it’s API to no longer display or track deprecations.</p>
</section>
<section id="api" class="level2">
<h2 class="anchored" data-anchor-id="api">API</h2>
<!-- eslint-disable no-unused-vars -->
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> deprecate <span class="op">=</span> <span class="pp">require</span>(<span class="st">'depd'</span>)(<span class="st">'my-module'</span>)</span></code></pre></div>
<p>This library allows you to display deprecation messages to your users. This library goes above and beyond with deprecation warnings by introspection of the call stack (but only the bits that it is interested in).</p>
<p>Instead of just warning on the first invocation of a deprecated function and never again, this module will warn on the first invocation of a deprecated function per unique call site, making it ideal to alert users of all deprecated uses across the code base, rather than just whatever happens to execute first.</p>
<p>The deprecation warnings from this module also include the file and line information for the call into the module that the deprecated function was in.</p>
<p><strong>NOTE</strong> this library has a similar interface to the <code>debug</code> module, and this module uses the calling file to get the boundary for the call stacks, so you should always create a new <code>deprecate</code> object in each file and not within some central file.</p>
<section id="depdnamespace" class="level3">
<h3 class="anchored" data-anchor-id="depdnamespace">depd(namespace)</h3>
<p>Create a new deprecate function that uses the given namespace name in the messages and will display the call site prior to the stack entering the file this function was called from. It is highly suggested you use the name of your module as the namespace.</p>
</section>
<section id="deprecatemessage" class="level3">
<h3 class="anchored" data-anchor-id="deprecatemessage">deprecate(message)</h3>
<p>Call this function from deprecated code to display a deprecation message. This message will appear once per unique caller site. Caller site is the first call site in the stack in a different file from the caller of this function.</p>
<p>If the message is omitted, a message is generated for you based on the site of the <code>deprecate()</code> call and will display the name of the function called, similar to the name displayed in a stack trace.</p>
</section>
<section id="deprecate.functionfn-message" class="level3">
<h3 class="anchored" data-anchor-id="deprecate.functionfn-message">deprecate.function(fn, message)</h3>
<p>Call this function to wrap a given function in a deprecation message on any call to the function. An optional message can be supplied to provide a custom message.</p>
</section>
<section id="deprecate.propertyobj-prop-message" class="level3">
<h3 class="anchored" data-anchor-id="deprecate.propertyobj-prop-message">deprecate.property(obj, prop, message)</h3>
<p>Call this function to wrap a given property on object in a deprecation message on any accessing or setting of the property. An optional message can be supplied to provide a custom message.</p>
<p>The method must be called on the object where the property belongs (not inherited from the prototype).</p>
<p>If the property is a data descriptor, it will be converted to an accessor descriptor in order to display the deprecation message.</p>
</section>
<section id="process.ondeprecation-fn" class="level3">
<h3 class="anchored" data-anchor-id="process.ondeprecation-fn">process.on(‘deprecation’, fn)</h3>
<p>This module will allow easy capturing of deprecation errors by emitting the errors as the type “deprecation” on the global <code>process</code>. If there are no listeners for this type, the errors are written to STDERR as normal, but if there are any listeners, nothing will be written to STDERR and instead only emitted. From there, you can write the errors in a different format or to a logging source.</p>
<p>The error represents the deprecation and is emitted only once with the same rules as writing to STDERR. The error has the following properties:</p>
<ul>
<li><code>message</code> - This is the message given by the library</li>
<li><code>name</code> - This is always <code>'DeprecationError'</code></li>
<li><code>namespace</code> - This is the namespace the deprecation came from</li>
<li><code>stack</code> - This is the stack of the call to the deprecated thing</li>
</ul>
<p>Example <code>error.stack</code> output:</p>
<pre><code>DeprecationError: my-cool-module deprecated oldfunction
    at Object.&lt;anonymous&gt; ([eval]-wrapper:6:22)
    at Module._compile (module.js:456:26)
    at evalScript (node.js:532:25)
    at startup (node.js:80:7)
    at node.js:902:3</code></pre>
</section>
<section id="process.env.no_deprecation" class="level3">
<h3 class="anchored" data-anchor-id="process.env.no_deprecation">process.env.NO_DEPRECATION</h3>
<p>As a user of modules that are deprecated, the environment variable <code>NO_DEPRECATION</code> is provided as a quick solution to silencing deprecation warnings from being output. The format of this is similar to that of <code>DEBUG</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> NO_DEPRECATION=my-module,othermod node app.js</span></code></pre></div>
<p>This will suppress deprecations from being output for “my-module” and “othermod”. The value is a list of comma-separated namespaces. To suppress every warning across all namespaces, use the value <code>*</code> for a namespace.</p>
<p>Providing the argument <code>--no-deprecation</code> to the <code>node</code> executable will suppress all deprecations (only available in Node.js 0.8 or higher).</p>
<p><strong>NOTE</strong> This will not suppress the deperecations given to any “deprecation” event listeners, just the output to STDERR.</p>
</section>
<section id="process.env.trace_deprecation" class="level3">
<h3 class="anchored" data-anchor-id="process.env.trace_deprecation">process.env.TRACE_DEPRECATION</h3>
<p>As a user of modules that are deprecated, the environment variable <code>TRACE_DEPRECATION</code> is provided as a solution to getting more detailed location information in deprecation warnings by including the entire stack trace. The format of this is the same as <code>NO_DEPRECATION</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> TRACE_DEPRECATION=my-module,othermod node app.js</span></code></pre></div>
<p>This will include stack traces for deprecations being output for “my-module” and “othermod”. The value is a list of comma-separated namespaces. To trace every warning across all namespaces, use the value <code>*</code> for a namespace.</p>
<p>Providing the argument <code>--trace-deprecation</code> to the <code>node</code> executable will trace all deprecations (only available in Node.js 0.8 or higher).</p>
<p><strong>NOTE</strong> This will not trace the deperecations silenced by <code>NO_DEPRECATION</code>.</p>
</section>
</section>
<section id="display" class="level2">
<h2 class="anchored" data-anchor-id="display">Display</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="files/message.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">message</figcaption><p></p>
</figure>
</div>
<p>When a user calls a function in your library that you mark deprecated, they will see the following written to STDERR (in the given colors, similar colors and layout to the <code>debug</code> module):</p>
<pre><code>bright cyan    bright yellow
|              |          reset       cyan
|              |          |           |
▼              ▼          ▼           ▼
my-cool-module deprecated oldfunction [eval]-wrapper:6:22
▲              ▲          ▲           ▲
|              |          |           |
namespace      |          |           location of mycoolmod.oldfunction() call
               |          deprecation message
               the word "deprecated"</code></pre>
<p>If the user redirects their STDERR to a file or somewhere that does not support colors, they see (similar layout to the <code>debug</code> module):</p>
<pre><code>Sun, 15 Jun 2014 05:21:37 GMT my-cool-module deprecated oldfunction at [eval]-wrapper:6:22
▲                             ▲              ▲          ▲              ▲
|                             |              |          |              |
timestamp of message          namespace      |          |             location of mycoolmod.oldfunction() call
                                             |          deprecation message
                                             the word "deprecated"</code></pre>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<section id="deprecating-all-calls-to-a-function" class="level3">
<h3 class="anchored" data-anchor-id="deprecating-all-calls-to-a-function">Deprecating all calls to a function</h3>
<p>This will display a deprecated message about “oldfunction” being deprecated from “my-module” on STDERR.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> deprecate <span class="op">=</span> <span class="pp">require</span>(<span class="st">'depd'</span>)(<span class="st">'my-cool-module'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">// message automatically derived from function name</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Object.oldfunction</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>exports<span class="op">.</span><span class="at">oldfunction</span> <span class="op">=</span> deprecate<span class="op">.</span><span class="fu">function</span>(<span class="kw">function</span> <span class="fu">oldfunction</span> () {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">// all calls to function are deprecated</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">// specific message</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>exports<span class="op">.</span><span class="at">oldfunction</span> <span class="op">=</span> deprecate<span class="op">.</span><span class="fu">function</span>(<span class="kw">function</span> () {</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">// all calls to function are deprecated</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>}<span class="op">,</span> <span class="st">'oldfunction'</span>)</span></code></pre></div>
</section>
<section id="conditionally-deprecating-a-function-call" class="level3">
<h3 class="anchored" data-anchor-id="conditionally-deprecating-a-function-call">Conditionally deprecating a function call</h3>
<p>This will display a deprecated message about “weirdfunction” being deprecated from “my-module” on STDERR when called with less than 2 arguments.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> deprecate <span class="op">=</span> <span class="pp">require</span>(<span class="st">'depd'</span>)(<span class="st">'my-cool-module'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>exports<span class="op">.</span><span class="at">weirdfunction</span> <span class="op">=</span> <span class="kw">function</span> () {</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="kw">arguments</span><span class="op">.</span><span class="at">length</span> <span class="op">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// calls with 0 or 1 args are deprecated</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">deprecate</span>(<span class="st">'weirdfunction args &lt; 2'</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>When calling <code>deprecate</code> as a function, the warning is counted per call site within your own module, so you can display different deprecations depending on different situations and the users will still get all the warnings:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> deprecate <span class="op">=</span> <span class="pp">require</span>(<span class="st">'depd'</span>)(<span class="st">'my-cool-module'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>exports<span class="op">.</span><span class="at">weirdfunction</span> <span class="op">=</span> <span class="kw">function</span> () {</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="kw">arguments</span><span class="op">.</span><span class="at">length</span> <span class="op">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// calls with 0 or 1 args are deprecated</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">deprecate</span>(<span class="st">'weirdfunction args &lt; 2'</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="kw">typeof</span> <span class="kw">arguments</span>[<span class="dv">0</span>] <span class="op">!==</span> <span class="st">'string'</span>) {</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// calls with non-string first argument are deprecated</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">deprecate</span>(<span class="st">'weirdfunction non-string first arg'</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="deprecating-property-access" class="level3">
<h3 class="anchored" data-anchor-id="deprecating-property-access">Deprecating property access</h3>
<p>This will display a deprecated message about “oldprop” being deprecated from “my-module” on STDERR when accessed. A deprecation will be displayed when setting the value and when getting the value.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> deprecate <span class="op">=</span> <span class="pp">require</span>(<span class="st">'depd'</span>)(<span class="st">'my-cool-module'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>exports<span class="op">.</span><span class="at">oldprop</span> <span class="op">=</span> <span class="st">'something'</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">// message automatically derives from property name</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>deprecate<span class="op">.</span><span class="fu">property</span>(exports<span class="op">,</span> <span class="st">'oldprop'</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">// explicit message</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>deprecate<span class="op">.</span><span class="fu">property</span>(exports<span class="op">,</span> <span class="st">'oldprop'</span><span class="op">,</span> <span class="st">'oldprop &gt;= 0.10'</span>)</span></code></pre></div>
</section>
</section>
<section id="license" class="level2">
<h2 class="anchored" data-anchor-id="license">License</h2>
<p><a href="LICENSE">MIT</a></p>


</section>
</section>
</main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

</script>
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Proudly supported by <a href="https://mvpworkshop.co"><img src="https://mvpworkshop.co/wp-content/uploads/2021/01/mvp-logo.png" class="img-fluid" width="65"></a></div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../about.html">About</a>
  </li>  
</ul>
      </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>


</body></html>