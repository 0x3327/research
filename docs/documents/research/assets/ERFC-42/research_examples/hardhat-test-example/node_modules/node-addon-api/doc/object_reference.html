<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.64">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>3327 Research – object_reference</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="../../../../../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../../../../../../../../../site_libs/quarto-nav/headroom.min.js"></script>
  <script src="../../../../../../../../../site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="../../../../../../../../../">
  <script src="../../../../../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="../../../../../../../../../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../../../../../../../../../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../../../../../../../../..//images/favicon.ico" rel="icon">
  <script src="../../../../../../../../../site_libs/quarto-html/quarto.js"></script>
  <script src="../../../../../../../../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../../../../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../../../../../../../../../site_libs/quarto-html/anchor.min.js"></script>
  <link href="../../../../../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="../../../../../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="../../../../../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../../../../../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="../../../../../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 2,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../../../../../../../../../styles.css">
</head>
<body>
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../../../../../../../../index.html">
    <img src="../../../../../../../../../logo.png" alt="">
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../../index.html">Overview</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../../documents/research/index.html">Research</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#object-reference" class="nav-link active" data-scroll-target="#object-reference">Object Reference</a>
<ul class="collapse">
<li><a href="#example" class="nav-link" data-scroll-target="#example">Example</a></li>
<li><a href="#methods" class="nav-link" data-scroll-target="#methods">Methods</a>
<ul class="collapse">
<li><a href="#initialization" class="nav-link" data-scroll-target="#initialization">Initialization</a></li>
<li><a href="#empty-constructor" class="nav-link" data-scroll-target="#empty-constructor">Empty Constructor</a></li>
<li><a href="#constructor" class="nav-link" data-scroll-target="#constructor">Constructor</a></li>
<li><a href="#set" class="nav-link" data-scroll-target="#set">Set</a></li>
<li><a href="#get" class="nav-link" data-scroll-target="#get">Get</a></li>
</ul></li>
</ul></li>
</ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/0x3327/research/edit/main/documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/node-addon-api/doc/object_reference.md" class="toc-action">Edit this page</a></p><p><a href="https://github.com/0x3327/research/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<section id="object-reference" class="level1">
<h1>Object Reference</h1>
<p><code>Napi::ObjectReference</code> is a subclass of <a href="../../../../../../../../../documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/node-addon-api/doc/reference.html"><code>Napi::Reference</code></a>, and is equivalent to an instance of <code>Napi::Reference&lt;Object&gt;</code>. This means that a <code>Napi::ObjectReference</code> holds a <a href="../../../../../../../../../documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/node-addon-api/doc/object.html"><code>Napi::Object</code></a>, and a count of the number of references to that Object. When the count is greater than 0, an ObjectReference is not eligible for garbage collection. This ensures that the Object being held as a value of the ObjectReference will remain accessible, even if the original Object no longer is. However, ObjectReference is unique from a Reference since properties can be set and get to the Object itself that can be accessed through the ObjectReference.</p>
<p>For more general information on references, please consult <a href="../../../../../../../../../documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/node-addon-api/doc/reference.html"><code>Napi::Reference</code></a>.</p>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example">Example</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;napi.h&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> namescape Napi<span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> Init<span class="op">(</span>Env env<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Create an empty ObjectReference that has an initial reference count of 2.</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    ObjectReference obj_ref <span class="op">=</span> Reference<span class="op">&lt;</span>Object<span class="op">&gt;::</span>New<span class="op">(</span>Object<span class="op">::</span>New<span class="op">(</span>env<span class="op">),</span> <span class="dv">2</span><span class="op">);</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Set a couple of different properties on the reference.</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    obj_ref<span class="op">.</span>Set<span class="op">(</span><span class="st">"hello"</span><span class="op">,</span> String<span class="op">::</span>New<span class="op">(</span>env<span class="op">,</span> <span class="st">"world"</span><span class="op">));</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    obj_ref<span class="op">.</span>Set<span class="op">(</span><span class="dv">42</span><span class="op">,</span> <span class="st">"The Answer to Life, the Universe, and Everything"</span><span class="op">);</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Get the properties using the keys.</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    Value val1 <span class="op">=</span> obj_ref<span class="op">.</span>Get<span class="op">(</span><span class="st">"hello"</span><span class="op">);</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    Value val2 <span class="op">=</span> obj_ref<span class="op">.</span>Get<span class="op">(</span><span class="dv">42</span><span class="op">);</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<section id="initialization" class="level3">
<h3 class="anchored" data-anchor-id="initialization">Initialization</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="at">static</span> Napi<span class="op">::</span>ObjectReference Napi<span class="op">::</span>ObjectReference<span class="op">::</span>New<span class="op">(</span><span class="at">const</span> Napi<span class="op">::</span>Object<span class="op">&amp;</span> value<span class="op">,</span> <span class="dt">uint32_t</span> initialRefcount <span class="op">=</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<ul>
<li><p><code>[in] value</code>: The <code>Napi::Object</code> which is to be referenced.</p></li>
<li><p><code>[in] initialRefcount</code>: The initial reference count.</p></li>
</ul>
<p>Returns the newly created reference.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="at">static</span> Napi<span class="op">::</span>ObjectReference Napi<span class="op">::</span>Weak<span class="op">(</span><span class="at">const</span> Napi<span class="op">::</span>Object<span class="op">&amp;</span> value<span class="op">);</span></span></code></pre></div>
<p>Creates a “weak” reference to the value, in that the initial count of number of references is set to 0.</p>
<ul>
<li><code>[in] value</code>: The value which is to be referenced.</li>
</ul>
<p>Returns the newly created reference.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="at">static</span> Napi<span class="op">::</span>ObjectReference Napi<span class="op">::</span>Persistent<span class="op">(</span><span class="at">const</span> Napi<span class="op">::</span>Object<span class="op">&amp;</span> value<span class="op">);</span></span></code></pre></div>
<p>Creates a “persistent” reference to the value, in that the initial count of number of references is set to 1.</p>
<ul>
<li><code>[in] value</code>: The value which is to be referenced.</li>
</ul>
<p>Returns the newly created reference.</p>
</section>
<section id="empty-constructor" class="level3">
<h3 class="anchored" data-anchor-id="empty-constructor">Empty Constructor</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>Napi<span class="op">::</span>ObjectReference<span class="op">::</span>ObjectReference<span class="op">();</span></span></code></pre></div>
<p>Returns a new <em>empty</em> <code>Napi::ObjectReference</code> instance.</p>
</section>
<section id="constructor" class="level3">
<h3 class="anchored" data-anchor-id="constructor">Constructor</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Napi<span class="op">::</span>ObjectReference<span class="op">::</span>ObjectReference<span class="op">(</span>napi_env env<span class="op">,</span> napi_value value<span class="op">);</span></span></code></pre></div>
<ul>
<li><p><code>[in] env</code>: The <code>napi_env</code> environment in which to construct the <code>Napi::ObjectReference</code> object.</p></li>
<li><p><code>[in] value</code>: The N-API primitive value to be held by the <code>Napi::ObjectReference</code>.</p></li>
</ul>
<p>Returns the newly created reference.</p>
</section>
<section id="set" class="level3">
<h3 class="anchored" data-anchor-id="set">Set</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> Napi<span class="op">::</span>ObjectReference<span class="op">::</span>Set<span class="op">(</span>___ key<span class="op">,</span> ___ value<span class="op">);</span></span></code></pre></div>
<ul>
<li><p><code>[in] key</code>: The name for the property being assigned.</p></li>
<li><p><code>[in] value</code>: The value being assigned to the property.</p></li>
</ul>
<p>The <code>key</code> can be any of the following types: - <code>const char*</code> - <code>const std::string</code> - <code>uint32_t</code></p>
<p>The <code>value</code> can be any of the following types: - <code>napi_value</code> - <code>Napi::Value</code> - <code>const char*</code> - <code>bool</code> - <code>double</code></p>
</section>
<section id="get" class="level3">
<h3 class="anchored" data-anchor-id="get">Get</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Napi<span class="op">::</span>Value Napi<span class="op">::</span>ObjectReference<span class="op">::</span>Get<span class="op">(</span>___ key<span class="op">);</span></span></code></pre></div>
<ul>
<li><code>[in] key</code>: The name of the property to return the value for.</li>
</ul>
<p>Returns the <a href="../../../../../../../../../documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/node-addon-api/doc/value.html"><code>Napi::Value</code></a> associated with the key property. Returns NULL if no such key exists.</p>
<p>The <code>key</code> can be any of the following types: - <code>const char*</code> - <code>const std::string</code> - <code>uint32_t</code></p>


</section>
</section>
</section>
</main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

</script>
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Proudly supported by <a href="https://mvpworkshop.co"><img src="https://mvpworkshop.co/wp-content/uploads/2021/01/mvp-logo.png" class="img-fluid" width="65"></a></div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../../about.html">About</a>
  </li>  
</ul>
      </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>


</body></html>