<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.64">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>3327 Research – changelog</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>

  <script src="../../../../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../../../../../../../../site_libs/quarto-nav/headroom.min.js"></script>
  <script src="../../../../../../../../site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="../../../../../../../../">
  <script src="../../../../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="../../../../../../../../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../../../../../../../..//images/favicon.ico" rel="icon">
  <script src="../../../../../../../../site_libs/quarto-html/quarto.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../../../../../../../../site_libs/quarto-html/anchor.min.js"></script>
  <link href="../../../../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="../../../../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="../../../../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../../../../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="../../../../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 2,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../../../../../../../../styles.css">
</head>
<body>
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../../../../../../../index.html">
    <img src="../../../../../../../../logo.png" alt="">
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../index.html">Overview</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../documents/research/index.html">Research</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#tweetnacl.js-changelog" class="nav-link active" data-scroll-target="#tweetnacl.js-changelog">TweetNaCl.js Changelog</a>
<ul class="collapse">
<li><a href="#v1.0.3" class="nav-link" data-scroll-target="#v1.0.3">v1.0.3</a></li>
<li><a href="#v1.0.2" class="nav-link" data-scroll-target="#v1.0.2">v1.0.2</a></li>
<li><a href="#v1.0.1" class="nav-link" data-scroll-target="#v1.0.1">v1.0.1</a></li>
<li><a href="#v1.0.0" class="nav-link" data-scroll-target="#v1.0.0">v1.0.0</a></li>
<li><a href="#v1.0.0-rc.1" class="nav-link" data-scroll-target="#v1.0.0-rc.1">v1.0.0-rc.1</a></li>
<li><a href="#v0.14.5" class="nav-link" data-scroll-target="#v0.14.5">v0.14.5</a></li>
<li><a href="#v0.14.4" class="nav-link" data-scroll-target="#v0.14.4">v0.14.4</a></li>
<li><a href="#v0.14.3" class="nav-link" data-scroll-target="#v0.14.3">v0.14.3</a></li>
<li><a href="#v0.14.2" class="nav-link" data-scroll-target="#v0.14.2">v0.14.2</a></li>
<li><a href="#v0.14.1" class="nav-link" data-scroll-target="#v0.14.1">v0.14.1</a></li>
<li><a href="#v0.14.0" class="nav-link" data-scroll-target="#v0.14.0">v0.14.0</a></li>
<li><a href="#v0.13.3" class="nav-link" data-scroll-target="#v0.13.3">v0.13.3</a></li>
<li><a href="#v0.13.2" class="nav-link" data-scroll-target="#v0.13.2">v0.13.2</a></li>
<li><a href="#v0.13.1" class="nav-link" data-scroll-target="#v0.13.1">v0.13.1</a></li>
<li><a href="#v0.13.0" class="nav-link" data-scroll-target="#v0.13.0">v0.13.0</a></li>
<li><a href="#v0.12.2" class="nav-link" data-scroll-target="#v0.12.2">v0.12.2</a></li>
<li><a href="#v0.12.1" class="nav-link" data-scroll-target="#v0.12.1">v0.12.1</a></li>
<li><a href="#v0.12.0" class="nav-link" data-scroll-target="#v0.12.0">v0.12.0</a></li>
<li><a href="#v0.11.2" class="nav-link" data-scroll-target="#v0.11.2">v0.11.2</a></li>
<li><a href="#v0.11.1" class="nav-link" data-scroll-target="#v0.11.1">v0.11.1</a></li>
<li><a href="#v0.11.0" class="nav-link" data-scroll-target="#v0.11.0">v0.11.0</a></li>
<li><a href="#v0.10.1" class="nav-link" data-scroll-target="#v0.10.1">v0.10.1</a></li>
<li><a href="#v0.10.0" class="nav-link" data-scroll-target="#v0.10.0">v0.10.0</a></li>
<li><a href="#v0.9.2" class="nav-link" data-scroll-target="#v0.9.2">v0.9.2</a></li>
<li><a href="#v0.9.1" class="nav-link" data-scroll-target="#v0.9.1">v0.9.1</a></li>
</ul></li>
</ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/0x3327/research/edit/main/documents/research/assets/ERFC-42/research_examples/hardhat-test-example/node_modules/tweetnacl/CHANGELOG.md" class="toc-action">Edit this page</a></p><p><a href="https://github.com/0x3327/research/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<section id="tweetnacl.js-changelog" class="level1">
<h1>TweetNaCl.js Changelog</h1>
<section id="v1.0.3" class="level2">
<h2 class="anchored" data-anchor-id="v1.0.3">v1.0.3</h2>
<p><strong><em>IMPORTANT BUG FIX</em></strong>. Due to a bug in calculating carry in modulo reduction that used bit operations on integers larger than 32 bits, <code>nacl.sign</code> or <code>nacl.sign.detached</code> could have created incorrect signatures.</p>
<p>This only affects signing, not verification.</p>
<p>Thanks to <span class="citation" data-cites="valerini">@valerini</span> on GitHub for finding and reporting the bug.</p>
</section>
<section id="v1.0.2" class="level2">
<h2 class="anchored" data-anchor-id="v1.0.2">v1.0.2</h2>
<p>Exported more internal undocumented functions for third-party projects that rely on low-level interface, (something users of TweetNaCl shouldn’t care about).</p>
</section>
<section id="v1.0.1" class="level2">
<h2 class="anchored" data-anchor-id="v1.0.1">v1.0.1</h2>
<p>Updated documentation and typings.</p>
</section>
<section id="v1.0.0" class="level2">
<h2 class="anchored" data-anchor-id="v1.0.0">v1.0.0</h2>
<p>No code changes from v1.0.0-rc.1.</p>
</section>
<section id="v1.0.0-rc.1" class="level2">
<h2 class="anchored" data-anchor-id="v1.0.0-rc.1">v1.0.0-rc.1</h2>
<ul>
<li><p><strong>IMPORTANT!</strong> In previous versions, <code>nacl.secretbox.open</code>, <code>nacl.box.open</code>, and <code>nacl.box.after</code> returned <code>false</code> when opening failed (for example, when using incorrect key, nonce, or when input was maliciously or accidentally modified after encryption). This version instead returns <code>null</code>.</p>
<p>The usual way to check for this condition:</p>
<p><code>if (!result) { ... }</code></p>
<p>is correct and will continue to work.</p>
<p>However, direct comparison with <code>false</code>:</p>
<p><code>if (result == false) { ... }</code></p>
<p>it will no longer work and <strong>will not detect failure</strong>. Please check your code for this condition.</p>
<p>(<code>nacl.sign.open</code> always returned <code>null</code>, so it is not affected.)</p></li>
<li><p>Arguments type check now uses <code>instanceof Uint8Array</code> instead of <code>Object.prototype.toString</code>.</p></li>
<li><p>Removed deprecation checks for <code>nacl.util</code> (moved to a <a href="https://github.com/dchest/tweetnacl-util-js">separate package</a> in v0.14.0).</p></li>
<li><p>Removed deprecation checks for the old signature API (changed in v0.10.0).</p></li>
<li><p>Improved benchmarking.</p></li>
</ul>
</section>
<section id="v0.14.5" class="level2">
<h2 class="anchored" data-anchor-id="v0.14.5">v0.14.5</h2>
<ul>
<li>Fixed incomplete return types in TypeScript typings.</li>
<li>Replaced COPYING.txt with LICENSE file, which now has public domain dedication text from The Unlicense. License fields in package.json and bower.json have been set to “Unlicense”. The project was and will be in the public domain – this change just makes it easier for automated tools to know about this fact by using the widely recognized and SPDX-compatible template for public domain dedication.</li>
</ul>
</section>
<section id="v0.14.4" class="level2">
<h2 class="anchored" data-anchor-id="v0.14.4">v0.14.4</h2>
<ul>
<li>Added TypeScript type definitions (contributed by <span class="citation" data-cites="AndSDev">@AndSDev</span>).</li>
<li>Improved benchmarking code.</li>
</ul>
</section>
<section id="v0.14.3" class="level2">
<h2 class="anchored" data-anchor-id="v0.14.3">v0.14.3</h2>
<p>Fixed a bug in the fast version of Poly1305 and brought it back.</p>
<p>Thanks to <span class="citation" data-cites="floodyberry">@floodyberry</span> for promptly responding and fixing the original C code:</p>
<blockquote class="blockquote">
<p>“The issue was not properly detecting if st-&gt;h was &gt;= 2^130 - 5, coupled with [testing mistake] not catching the failure. The chance of the bug affecting anything in the real world is essentially zero luckily, but it’s good to have it fixed.”</p>
</blockquote>
<p>https://github.com/floodyberry/poly1305-donna/issues/2#issuecomment-202698577</p>
</section>
<section id="v0.14.2" class="level2">
<h2 class="anchored" data-anchor-id="v0.14.2">v0.14.2</h2>
<p>Switched Poly1305 fast version back to original (slow) version due to a bug.</p>
</section>
<section id="v0.14.1" class="level2">
<h2 class="anchored" data-anchor-id="v0.14.1">v0.14.1</h2>
<p>No code changes, just tweaked packaging and added COPYING.txt.</p>
</section>
<section id="v0.14.0" class="level2">
<h2 class="anchored" data-anchor-id="v0.14.0">v0.14.0</h2>
<ul>
<li><p><strong>Breaking change!</strong> All functions from <code>nacl.util</code> have been removed. These functions are no longer available:</p>
<pre><code>nacl.util.decodeUTF8
nacl.util.encodeUTF8
nacl.util.decodeBase64
nacl.util.encodeBase64</code></pre>
<p>If want to continue using them, you can include <a href="https://github.com/dchest/tweetnacl-util-js" class="uri">https://github.com/dchest/tweetnacl-util-js</a> package:</p>
<pre><code>&lt;script src="nacl.min.js"&gt;&lt;/script&gt;
&lt;script src="nacl-util.min.js"&gt;&lt;/script&gt;</code></pre>
<p>or</p>
<pre><code>var nacl = require('tweetnacl');
nacl.util = require('tweetnacl-util');</code></pre>
<p>However it is recommended to use better packages that have wider compatibility and better performance. Functions from <code>nacl.util</code> were never intended to be robust solution for string conversion and were included for convenience: cryptography library is not the right place for them.</p>
<p>Currently calling these functions will throw error pointing to <code>tweetnacl-util-js</code> (in the next version this error message will be removed).</p></li>
<li><p>Improved detection of available random number generators, making it possible to use <code>nacl.randomBytes</code> and related functions in Web Workers without changes.</p></li>
<li><p>Changes to testing (see README).</p></li>
</ul>
</section>
<section id="v0.13.3" class="level2">
<h2 class="anchored" data-anchor-id="v0.13.3">v0.13.3</h2>
<p>No code changes.</p>
<ul>
<li><p>Reverted license field in package.json to “Public domain”.</p></li>
<li><p>Fixed typo in README.</p></li>
</ul>
</section>
<section id="v0.13.2" class="level2">
<h2 class="anchored" data-anchor-id="v0.13.2">v0.13.2</h2>
<ul>
<li><p>Fixed undefined variable bug in fast version of Poly1305. No worries, this bug was <em>never</em> triggered.</p></li>
<li><p>Specified CC0 public domain dedication.</p></li>
<li><p>Updated development dependencies.</p></li>
</ul>
</section>
<section id="v0.13.1" class="level2">
<h2 class="anchored" data-anchor-id="v0.13.1">v0.13.1</h2>
<ul>
<li>Exclude <code>crypto</code> and <code>buffer</code> modules from browserify builds.</li>
</ul>
</section>
<section id="v0.13.0" class="level2">
<h2 class="anchored" data-anchor-id="v0.13.0">v0.13.0</h2>
<ul>
<li><p>Made <code>nacl-fast</code> the default version in NPM package. Now <code>require("tweetnacl")</code> will use fast version; to get the original version, use <code>require("tweetnacl/nacl.js")</code>.</p></li>
<li><p>Cleanup temporary array after generating random bytes.</p></li>
</ul>
</section>
<section id="v0.12.2" class="level2">
<h2 class="anchored" data-anchor-id="v0.12.2">v0.12.2</h2>
<ul>
<li>Improved performance of curve operations, making <code>nacl.scalarMult</code>, <code>nacl.box</code>, <code>nacl.sign</code> and related functions up to 3x faster in <code>nacl-fast</code> version.</li>
</ul>
</section>
<section id="v0.12.1" class="level2">
<h2 class="anchored" data-anchor-id="v0.12.1">v0.12.1</h2>
<ul>
<li>Significantly improved performance of Salsa20 (~1.5x faster) and Poly1305 (~3.5x faster) in <code>nacl-fast</code> version.</li>
</ul>
</section>
<section id="v0.12.0" class="level2">
<h2 class="anchored" data-anchor-id="v0.12.0">v0.12.0</h2>
<ul>
<li>Instead of using the given secret key directly, TweetNaCl.js now copies it to a new array in <code>nacl.box.keyPair.fromSecretKey</code> and <code>nacl.sign.keyPair.fromSecretKey</code>.</li>
</ul>
</section>
<section id="v0.11.2" class="level2">
<h2 class="anchored" data-anchor-id="v0.11.2">v0.11.2</h2>
<ul>
<li>Added new constant: <code>nacl.sign.seedLength</code>.</li>
</ul>
</section>
<section id="v0.11.1" class="level2">
<h2 class="anchored" data-anchor-id="v0.11.1">v0.11.1</h2>
<ul>
<li>Even faster hash for both short and long inputs (in <code>nacl-fast</code>).</li>
</ul>
</section>
<section id="v0.11.0" class="level2">
<h2 class="anchored" data-anchor-id="v0.11.0">v0.11.0</h2>
<ul>
<li><p>Implement <code>nacl.sign.keyPair.fromSeed</code> to enable creation of sign key pairs deterministically from a 32-byte seed. (It behaves like <a href="http://doc.libsodium.org/public-key_cryptography/public-key_signatures.html">libsodium’s</a> <code>crypto_sign_seed_keypair</code>: the seed becomes a secret part of the secret key.)</p></li>
<li><p>Fast version now has an improved hash implementation that is 2x-5x faster.</p></li>
<li><p>Fixed benchmarks, which may have produced incorrect measurements.</p></li>
</ul>
</section>
<section id="v0.10.1" class="level2">
<h2 class="anchored" data-anchor-id="v0.10.1">v0.10.1</h2>
<ul>
<li>Exported undocumented <code>nacl.lowlevel.crypto_core_hsalsa20</code>.</li>
</ul>
</section>
<section id="v0.10.0" class="level2">
<h2 class="anchored" data-anchor-id="v0.10.0">v0.10.0</h2>
<ul>
<li><strong>Signature API breaking change!</strong> <code>nacl.sign</code> and <code>nacl.sign.open</code> now deal with signed messages, and new <code>nacl.sign.detached</code> and <code>nacl.sign.detached.verify</code> are available.</li>
</ul>
<p>Previously, <code>nacl.sign</code> returned a signature, and <code>nacl.sign.open</code> accepted a message and “detached” signature. This was unlike NaCl’s API, which dealt with signed messages (concatenation of signature and message).</p>
<p>The new API is:</p>
<pre><code>  nacl.sign(message, secretKey) -&gt; signedMessage
  nacl.sign.open(signedMessage, publicKey) -&gt; message | null</code></pre>
<p>Since detached signatures are common, two new API functions were introduced:</p>
<pre><code>  nacl.sign.detached(message, secretKey) -&gt; signature
  nacl.sign.detached.verify(message, signature, publicKey) -&gt; true | false</code></pre>
<p>(Note that it’s <code>verify</code>, not <code>open</code>, and it returns a boolean value, unlike <code>open</code>, which returns an “unsigned” message.)</p>
<ul>
<li>NPM package now comes without <code>test</code> directory to keep it small.</li>
</ul>
</section>
<section id="v0.9.2" class="level2">
<h2 class="anchored" data-anchor-id="v0.9.2">v0.9.2</h2>
<ul>
<li>Improved documentation.</li>
<li>Fast version: increased theoretical message size limit from 2^32-1 to 2^52 bytes in Poly1305 (and thus, secretbox and box). However this has no impact in practice since JavaScript arrays or ArrayBuffers are limited to 32-bit indexes, and most implementations won’t allocate more than a gigabyte or so. (Obviously, there are no tests for the correctness of implementation.) Also, it’s not recommended to use messages that large without splitting them into smaller packets anyway.</li>
</ul>
</section>
<section id="v0.9.1" class="level2">
<h2 class="anchored" data-anchor-id="v0.9.1">v0.9.1</h2>
<ul>
<li>Initial release</li>
</ul>


</section>
</section>
</main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

</script>
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Proudly supported by <a href="https://mvpworkshop.co"><img src="https://mvpworkshop.co/wp-content/uploads/2021/01/mvp-logo.png" class="img-fluid" width="65"></a></div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../../../../../about.html">About</a>
  </li>  
</ul>
      </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/3327_io">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/0x3327/research">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>


</body></html>